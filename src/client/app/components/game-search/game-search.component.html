<md-toolbar [ngClass]="['md-primary','md-hue-3','game-search-container']">
  <input
    type="text"
    focusFirst
    showHint
    placeholder="Giant Bomb search ..."
    [class.has-danger]="searchFailed"
    [ngClass]="['form-control','game-search-input']"
    [(ngModel)]="model"
    [ngbTypeahead]="search"
    [inputFormatter]="inputFormatter"
    [resultFormatter]="resultFormatter"
    [resultTemplate]="gameMatchTemplate"/>
  <md-spinner
    [hidden]="!searching"
    [ngClass]="['game-search-spinner','md-primary md-hue-2']"
    mode="indeterminate">
  </md-spinner>
</md-toolbar>

<template #gameMatchTemplate let-r="result" let-t="term">
  <div [ngClass]="['game-search-item-container']" fxFlex="100%" fxLayout="row" fxLayoutAlign="start start">
    <img [src]="r.image" fxFlex="20%">
    <div [ngClass]="['game-search-item-description']" fxLayout="column" fxFlex="75%">
      <div [ngClass]="['game-search-item-title']">{{ r.name }}</div>
      <div [ngClass]="['game-search-item-platform']">{{ r.platforms }}</div>
    </div>
    <button md-mini-fab class="md-primary" (click)="addGame(r)">
      <md-icon class="md-18">add</md-icon>
    </button>
  </div>
</template>
